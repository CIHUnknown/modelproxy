{
  "name": "diamond-client",
  "version": "0.0.7",
  "description": "Ali Diamond client",
  "keywords": [
    "diamond-client",
    "diamond"
  ],
  "author": {
    "name": "苏千",
    "email": "suqian.yf@taobao.com"
  },
  "homepage": "http://gitlab.alibaba-inc.com/node/diamond-client",
  "repository": {
    "type": "git",
    "url": "git@gitlab.alibaba-inc.com:node/diamond-client.git"
  },
  "dependencies": {
    "debug": "0.8.0",
    "mkdirp": "0.3.5",
    "urllib": "0.5.13"
  },
  "devDependencies": {
    "ali-contributors": "*",
    "alicov": "*",
    "autod": "*",
    "benchmark": "*",
    "istanbul-harmony": "*",
    "jshint": "*",
    "mm": "0.2.1",
    "mocha": "*",
    "moment": "*",
    "pedding": "0.0.3",
    "should": "3.3.0"
  },
  "config": {
    "alicov": {
      "threshold": 99
    }
  },
  "scripts": {
    "test": "make test-all"
  },
  "contributors": [
    {
      "name": "苏千",
      "email": "suqian.yf@alipay.com",
      "url": "https://work.alibaba-inc.com/work/u/43624"
    }
  ],
  "readme": "# diamond-client\n\n[![status](http://toast.corp.taobao.com/task/state/id/3816)](http://toast.corp.taobao.com/task/view/id/3816)\n[![build status](http://gitlab-ci.alibaba-inc.com/projects/24/status.png?ref=master)](http://gitlab-ci.alibaba-inc.com/projects/24?ref=master)\n\nAli Diamond client for Node.js\n\n## Usage\n\n```js\nvar Diamond = require('diamond-client');\nvar diamond = Diamond.create({\n  host: 'commonconfig.taobao.net:8080', // online: \"commonconfig.config-host.taobao.com:8080\"\n  // refreshInterval: 30000, // 数据刷新时间间隔, 默认是 30000 ms, 30 seconds\n  // cacheDir: '/tmp/nodejs-diamond-client-cache', // 数据容错存储目录, 当 server 不可用的时候, 自动加载上次缓存的结果\n  // requestTimeout: 5000, // 请求 diamond 的超时时间, 默认 5秒\n});\n\n// 监听数据\ndiamond.on('com.taobao.hsf.redis', 'HSF', function (content) {\n  console.log(content); // \"172.24.179.55:6379\"\n}).ready(function () {\n  // diamond init ready\n});\n```\n\n### Error Events\n\n```js\ndiamond.onError('initError', function (err) {\n\n}).onError('updateServersError', function (err) {\n\n}).onError('syncConfigError', function (err) {\n\n});\n```\n\n## Links\n\nDiamond Server 开发联系 @智乔\n\n* diamond wiki 地址：http://baike.corp.taobao.com/index.php/Diamond\n* diamond client api：http://baike.corp.taobao.com/index.php/Diamond/api\n* diamond ops :\n    * 线上: http://ops.jm.taobao.org:9999/diamond-ops/\n    * 日常: http://ops.jm.taobao.net/diamond-ops/\n* zk 接入参考: http://confluence.taobao.ali.com/pages/viewpage.action?pageId=204471886\n* diamond-client 的开发接口: http://baike.corp.taobao.com/index.php/Diamond/api\n* Diamond 支持 HTTP 协议获取配置信息: http://baike.corp.taobao.com/index.php/Diamond%E5%8D%8F%E8%AE%AE\n\nconfigserver 事宜请联系 @超神\n\n## 获取集群地址列表\n\n* 日常/二套/性能 环境\n\n```bash\n$ curl \"http://commonconfig.taobao.net:8080/diamond-server/diamond\"\n```\n\n* 预发/线上 环境\n\n```bash\n$ curl \"http://commonconfig.config-host.taobao.com:8080/diamond-server/diamond\"\n```\n\n## OPS DEBUG\n\n获取 HSF redis 服务器配置\n\n* dataId: com.taobao.hsf.redis\n* group: HSF\n\n```bash\n# 日常环境:\n$ curl \"http://10.232.102.182:8080/diamond-server/config.co?dataId=com.taobao.hsf.redis&group=HSF\"\n\n# 预发\n$ curl \"http://172.23.228.87:8080/diamond-server/config.co?dataId=com.taobao.hsf.redis&group=HSF\"\n\n# 生产环境:\n$ curl \"http://172.24.23.71:8080/diamond-server/config.co?dataId=com.taobao.hsf.redis&group=HSF\"\n```\n\n## Contacts\n\n* [@苏千](http://work.alibaba-inc.com/work/u/43624)\n\n```bash\n$ git summary\n\n project  : diamond-client\n repo age : 5 hours\n active   : 1 days\n commits  : 3\n files    : 10\n authors  :\n     2  苏千                  66.7%\n     1  fengmk2                 33.3%\n```\n",
  "readmeFilename": "Readme.md",
  "_id": "diamond-client@0.0.7",
  "_from": "diamond-client@0.0.7"
}
