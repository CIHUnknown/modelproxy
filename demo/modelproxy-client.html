<!doctype html>
<html>
<head>
<script src="https://s.tbcdn.cn/g/kissy/k/1.4.1/seed.js"></script>
<script src="modelproxy-client.js" ></script>
</head>
<body>
<script type="text/javascript">
    KISSY.use( "modelproxy", function( S, ModelProxy ) {
        ModelProxy.configBase( '/model/' );
        var searchModel = ModelProxy.create( 'Search.*' );
        searchModel
            .list( { q: 'ihpone6' } )
            .list( { q: '冲锋衣' } )
            .suggest( { q: 'i' } )
            .getNav( { q: '滑板' } )
            .done( function( data1, data2, data3, data4 ) {
                console.log( '这是由前端合并请求的结果:');
                console.log( {
                    "list_ihpone6": data1,
                    "list_冲锋衣": data2,
                    "suggest_i": data3,
                    "getNav_滑板": data4
                } );
            } );
    } );
    
    KISSY.use( "io", function( S, IO ) {
        IO( {
            url: '/getCombinedData',
            dataType: 'json',
            type: 'get',
            success: function( data ) {
                console.log( '这是由服务器端合并后的结果:' );
                console.log( data );
            }
        } )
    } );
</script>
</body>
</html>